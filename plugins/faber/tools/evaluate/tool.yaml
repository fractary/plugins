name: evaluate
type: tool
description: |
  FABER Phase 4 - Evaluate skill responsible for validation, testing, quality assurance,
  and determining readiness for release. Fourth phase with retry loop back to Build.

input_schema:
  type: object
  properties:
    operation:
      type: string
      enum:
        - execute_evaluate
      description: Operation to perform (always "execute_evaluate")
    work_id:
      type: string
      description: FABER work identifier
    specification:
      type: object
      description: Specification from Architect phase (for validation)
    build_results:
      type: object
      description: Results from Build phase execution
    previous_phase_results:
      type: object
      description: Results from Build phase
    retry_count:
      type: integer
      description: Current retry attempt in Build-Evaluate loop
      default: 0
    max_retries:
      type: integer
      description: Maximum retry attempts allowed
      default: 3
  required:
    - operation
    - work_id

output_schema:
  type: object
  properties:
    status:
      type: string
      enum:
        - success
        - warning
        - failure
        - pending_input
      description: Execution status
    validation_status:
      type: string
      enum:
        - pass
        - fail
        - partial
      description: Overall validation result
    requirements_met:
      type: array
      items:
        type: string
      description: Requirements successfully validated
    requirements_failed:
      type: array
      items:
        type: string
      description: Requirements that failed validation
    test_results:
      type: object
      properties:
        total:
          type: integer
          description: Total tests run
        passed:
          type: integer
          description: Tests passed
        failed:
          type: integer
          description: Tests failed
        skipped:
          type: integer
          description: Tests skipped
      description: Test execution results
    issues:
      type: array
      items:
        type: string
      description: Issues found during evaluation
    suggestions:
      type: array
      items:
        type: string
      description: Improvement suggestions
    ready_for_release:
      type: boolean
      description: Whether implementation is ready for Release phase
    retry_recommended:
      type: boolean
      description: Whether Build phase should be retried
    messages:
      type: array
      items:
        type: string
      description: Execution messages
    errors:
      type: array
      items:
        type: string
      description: Error messages (if any)

implementation:
  type: skill-based
  skill_directory: plugins/faber/skills/evaluate
  workflow_file: workflow/basic.md
  scripts_directory: scripts
  execution_pattern: |
    The evaluate skill follows a skill-based execution pattern:
    1. Load workflow implementation from workflow/basic.md
    2. Execute steps defined in workflow:
       - Validate implementation against specification
       - Run complete test suite
       - Check edge cases and error scenarios
       - Verify documentation completeness
       - Assess code quality
       - Determine if ready for release
       - Update session state
       - Post evaluate complete notification
    3. Return structured result with validation details
    4. If validation fails and retries remain, workflow returns to Build phase

  handler: fractary-faber-plugin
  function: execute_evaluate_skill

version: "2.0.0"
author: "Fractary FABER Team"
tags:
  - faber
  - workflow
  - evaluate
  - phase-4
  - validation
  - testing
  - qa
