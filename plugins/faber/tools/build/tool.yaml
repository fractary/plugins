name: build
type: tool
description: |
  FABER Phase 3 - Build skill responsible for implementation, code generation, testing,
  and committing changes. Third phase in FABER workflow with potential retry loop.

input_schema:
  type: object
  properties:
    operation:
      type: string
      enum:
        - execute_build
      description: Operation to perform (always "execute_build")
    work_id:
      type: string
      description: FABER work identifier
    specification:
      type: object
      description: Specification from Architect phase
    previous_phase_results:
      type: object
      description: Results from Architect phase execution
    retry_count:
      type: integer
      description: Current retry attempt (for Build-Evaluate loop)
      default: 0
  required:
    - operation
    - work_id

output_schema:
  type: object
  properties:
    status:
      type: string
      enum:
        - success
        - warning
        - failure
        - pending_input
      description: Execution status
    files_created:
      type: array
      items:
        type: string
      description: New files created
    files_modified:
      type: array
      items:
        type: string
      description: Existing files modified
    tests_added:
      type: array
      items:
        type: string
      description: Test files added
    commits:
      type: array
      items:
        type: object
        properties:
          sha:
            type: string
            description: Commit SHA
          message:
            type: string
            description: Commit message
      description: Git commits created
    implementation_notes:
      type: array
      items:
        type: string
      description: Implementation notes and decisions
    messages:
      type: array
      items:
        type: string
      description: Execution messages
    errors:
      type: array
      items:
        type: string
      description: Error messages (if any)

implementation:
  type: skill-based
  skill_directory: plugins/faber/skills/build
  workflow_file: workflow/basic.md
  scripts_directory: scripts
  execution_pattern: |
    The build skill follows a skill-based execution pattern:
    1. Load workflow implementation from workflow/basic.md
    2. Execute steps defined in workflow:
       - Implement solution per specification
       - Create/modify code files
       - Write tests for new functionality
       - Run tests to verify implementation
       - Commit changes with semantic messages
       - Update session state
       - Post build complete notification
    3. Return structured result with implementation details
    4. May be invoked multiple times in Build-Evaluate retry loop

  handler: fractary-faber-plugin
  function: execute_build_skill

version: "2.0.0"
author: "Fractary FABER Team"
tags:
  - faber
  - workflow
  - build
  - phase-3
  - implementation
  - coding
