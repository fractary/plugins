name: release
type: tool
description: |
  FABER Phase 5 - Release skill responsible for creating pull requests, deploying,
  documenting, and closing work items. Final phase in FABER workflow.

input_schema:
  type: object
  properties:
    operation:
      type: string
      enum:
        - execute_release
      description: Operation to perform (always "execute_release")
    work_id:
      type: string
      description: FABER work identifier
    branch_name:
      type: string
      description: Branch to push and create PR from
    specification:
      type: object
      description: Specification from Architect phase
    build_results:
      type: object
      description: Implementation details from Build phase
    evaluate_results:
      type: object
      description: Validation results from Evaluate phase
    previous_phase_results:
      type: object
      description: Results from Evaluate phase
    autonomy:
      type: string
      enum:
        - dry-run
        - assisted
        - guarded
        - autonomous
      description: Autonomy level (Release requires approval)
  required:
    - operation
    - work_id

output_schema:
  type: object
  properties:
    status:
      type: string
      enum:
        - success
        - warning
        - failure
        - pending_input
      description: Execution status
    branch_pushed:
      type: boolean
      description: Whether branch was pushed to remote
    pull_request:
      type: object
      properties:
        number:
          type: integer
          description: PR number
        url:
          type: string
          description: PR URL
        title:
          type: string
          description: PR title
        draft:
          type: boolean
          description: Whether PR is draft
      description: Created pull request details
    reviewers_requested:
      type: array
      items:
        type: string
      description: Reviewers requested for PR
    linked_issues:
      type: array
      items:
        type: string
      description: Work items linked to PR
    release_notes:
      type: string
      description: Generated release notes summary
    documentation_updated:
      type: boolean
      description: Whether documentation was updated
    messages:
      type: array
      items:
        type: string
      description: Execution messages
    errors:
      type: array
      items:
        type: string
      description: Error messages (if any)

implementation:
  type: skill-based
  skill_directory: plugins/faber/skills/release
  workflow_file: workflow/basic.md
  scripts_directory: scripts
  execution_pattern: |
    The release skill follows a skill-based execution pattern:
    1. Load workflow implementation from workflow/basic.md
    2. Execute steps defined in workflow:
       - Push branch to remote repository
       - Create pull request with comprehensive description
       - Link PR to original work item
       - Request reviews from team members
       - Update documentation (if applicable)
       - Generate release notes
       - Post release notification to work item
       - Update session state
       - Post release complete notification
    3. Return structured result with PR details and release information
    4. Requires user approval for destructive operations (merge, close)

  handler: fractary-faber-plugin
  function: execute_release_skill

version: "2.0.0"
author: "Fractary FABER Team"
tags:
  - faber
  - workflow
  - release
  - phase-5
  - pull-request
  - deployment
  - documentation
